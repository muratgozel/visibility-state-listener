"use strict";var t,e=(t=require("event-emitter-object"))&&"object"==typeof t&&"default"in t?t.default:t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||Function("return this")(),u=function(t){try{return!!t()}catch(t){return!0}},c=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l={f:a&&!f.call({1:2},1)?function(t){var e=a(this,t);return!!e&&e.enumerable}:f},s=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},d={}.toString,v=function(t){return d.call(t).slice(8,-1)},p="".split,y=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==v(t)?p.call(t,""):Object(t)}:Object,h=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},b=function(t){return y(h(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},m=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,S=function(t,e){return w.call(t,e)},O=i.document,E=g(O)&&g(O.createElement),j=!c&&!u((function(){return 7!=Object.defineProperty((t="div",E?O.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),L=Object.getOwnPropertyDescriptor,P={f:c?L:function(t,e){if(t=b(t),e=m(e,!0),j)try{return L(t,e)}catch(t){}if(S(t,e))return s(!l.f.call(t,e),t[e])}},A=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,_={f:c?T:function(t,e,n){if(A(t),e=m(e,!0),A(n),j)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},x=c?function(t,e,n){return _.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t},M=function(t,e){try{x(i,t,e)}catch(n){i[t]=e}return e},I=i["__core-js_shared__"]||M("__core-js_shared__",{}),k=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return k.call(t)});var C,N,F,z,D=I.inspectSource,G=i.WeakMap,R="function"==typeof G&&/native code/.test(D(G)),V=r((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),q=0,B=Math.random(),H=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+B).toString(36)},W=V("keys"),K={},Y=i.WeakMap;if(R){var J=new Y,Q=J.get,U=J.has,X=J.set;C=function(t,e){return X.call(J,t,e),e},N=function(t){return Q.call(J,t)||{}},F=function(t){return U.call(J,t)}}else{var Z=W[z="state"]||(W[z]=H(z));K[Z]=!0,C=function(t,e){return x(t,Z,e),e},N=function(t){return S(t,Z)?t[Z]:{}},F=function(t){return S(t,Z)}}var $,tt,et={set:C,get:N,has:F,enforce:function(t){return F(t)?N(t):C(t,{})},getterFor:function(t){return function(e){var n;if(!g(e)||(n=N(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},nt=r((function(t){var e=et.get,n=et.enforce,r=String(String).split("String");(t.exports=function(t,e,o,u){var c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,a=!!u&&!!u.noTargetGet;"function"==typeof o&&("string"!=typeof e||S(o,"name")||x(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==i?(c?!a&&t[e]&&(f=!0):delete t[e],f?t[e]=o:x(t,e,o)):f?t[e]=o:M(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),rt=i,ot=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?ot(rt[t])||ot(i[t]):rt[t]&&rt[t][e]||i[t]&&i[t][e]},ut=Math.ceil,ct=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?ct:ut)(t)},at=Math.min,lt=function(t){return t>0?at(ft(t),9007199254740991):0},st=Math.max,dt=Math.min,vt=function(t){return function(e,n,r){var o,i=b(e),u=lt(i.length),c=function(t,e){var n=ft(t);return n<0?st(n+e,0):dt(n,e)}(r,u);if(t&&n!=n){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},pt={includes:vt(!0),indexOf:vt(!1)}.indexOf,yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),ht={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=b(t),o=0,i=[];for(n in r)!S(K,n)&&S(r,n)&&i.push(n);for(;e.length>o;)S(r,n=e[o++])&&(~pt(i,n)||i.push(n));return i}(t,yt)}},bt={f:Object.getOwnPropertySymbols},gt=it("Reflect","ownKeys")||function(t){var e=ht.f(A(t)),n=bt.f;return n?e.concat(n(t)):e},mt=function(t,e){for(var n=gt(e),r=_.f,o=P.f,i=0;i<n.length;i++){var u=n[i];S(t,u)||r(t,u,o(e,u))}},wt=/#|\.prototype\./,St=function(t,e){var n=Et[Ot(t)];return n==Lt||n!=jt&&("function"==typeof e?u(e):!!e)},Ot=St.normalize=function(t){return String(t).replace(wt,".").toLowerCase()},Et=St.data={},jt=St.NATIVE="N",Lt=St.POLYFILL="P",Pt=St,At=P.f,Tt=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},_t=Array.isArray||function(t){return"Array"==v(t)},xt=!!Object.getOwnPropertySymbols&&!u((function(){return!String(Symbol())})),Mt=xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=V("wks"),kt=i.Symbol,Ct=Mt?kt:kt&&kt.withoutSetter||H,Nt=function(t){return S(It,t)||(xt&&S(kt,t)?It[t]=kt[t]:It[t]=Ct("Symbol."+t)),It[t]},Ft=Nt("species"),zt=function(t,e){var n;return _t(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!_t(n.prototype)?g(n)&&null===(n=n[Ft])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Dt=[].push,Gt=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=5==t||i;return function(c,f,a,l){for(var s,d,v=Object(h(c)),p=y(v),b=Tt(f,a,3),g=lt(p.length),m=0,w=l||zt,S=e?w(c,g):n?w(c,0):void 0;g>m;m++)if((u||m in p)&&(d=b(s=p[m],m,v),t))if(e)S[m]=d;else if(d)switch(t){case 3:return!0;case 5:return s;case 6:return m;case 2:Dt.call(S,s)}else if(o)return!1;return i?-1:r||o?o:S}},Rt={forEach:Gt(0),map:Gt(1),filter:Gt(2),some:Gt(3),every:Gt(4),find:Gt(5),findIndex:Gt(6)},Vt=it("navigator","userAgent")||"",qt=i.process,Bt=qt&&qt.versions,Ht=Bt&&Bt.v8;Ht?tt=($=Ht.split("."))[0]+$[1]:Vt&&(!($=Vt.match(/Edge\/(\d+)/))||$[1]>=74)&&($=Vt.match(/Chrome\/(\d+)/))&&(tt=$[1]);var Wt,Kt=tt&&+tt,Yt=Nt("species"),Jt=Object.defineProperty,Qt={},Ut=function(t){throw t},Xt=Rt.filter,Zt=(Wt="filter",Kt>=51||!u((function(){var t=[];return(t.constructor={})[Yt]=function(){return{foo:1}},1!==t[Wt](Boolean).foo}))),$t=function(t,e){if(S(Qt,t))return Qt[t];e||(e={});var n=[][t],r=!!S(e,"ACCESSORS")&&e.ACCESSORS,o=S(e,0)?e[0]:Ut,i=S(e,1)?e[1]:void 0;return Qt[t]=!!n&&!u((function(){if(r&&!c)return!0;var t={length:-1};r?Jt(t,1,{enumerable:!0,get:Ut}):t[1]=1,n.call(t,o,i)}))}("filter");!function(t,e){var n,r,o,u,c,f=t.target,a=t.global,l=t.stat;if(n=a?i:l?i[f]||M(f,{}):(i[f]||{}).prototype)for(r in e){if(u=e[r],o=t.noTargetGet?(c=At(n,r))&&c.value:n[r],!Pt(a?r:f+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof u==typeof o)continue;mt(u,o)}(t.sham||o&&o.sham)&&x(u,"sham",!0),nt(n,r,u,t)}}({target:"Array",proto:!0,forced:!Zt||!$t},{filter:function(t){return Xt(this,t,arguments.length>1?arguments[1]:void 0)}});var te=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new e({}),r=["webkit","ms","o","moz","khtml"],o={error:null,started:!1,value:"visible"},i=t.window||("undefined"==typeof window?void 0:window),u=t.document||("undefined"==typeof document?void 0:document);void 0!==i&&void 0!==u||(o.error="INVALID_GLOBALS");var c=[];void 0!==u&&(c=r.filter((function(t){return t+"Hidden"in u})));var f=c&&c.length>0?c[0]:"",a=f+(f.length>0?"H":"h")+"idden",l=f+(f.length>0?"V":"v")+"isibilityState",s=null;function d(){var t=u[l];t!=o.value&&(o.value=t,n.emit("update",t))}function v(){"visible"!=o.value&&(o.value="visible",n.emit("update","visible"))}function p(){"hidden"!=o.value&&(o.value="hidden",n.emit("update","hidden"))}function y(){void 0!==i&&void 0!==u&&!0!==o.started&&("modern"==s?u.addEventListener(f+"visibilitychange",d,0):"focus-blur"==s?(i.addEventListener("focus",v,!0),i.addEventListener("blur",p,!0)):"focus-blur-ie"==s&&(u.attachEvent("onfocusin",v),u.attachEvent("onfocusout",p)),o.started=!0)}function h(){void 0!==i&&void 0!==u&&!1!==o.started&&("modern"==s?u.removeEventListener(f+"visibilitychange",d,1):"focus-blur"==s?(i.removeEventListener("focus",v,!0),i.removeEventListener("blur",p,!0)):"focus-blur-ie"==s&&(u.detachEvent("onfocusin",v),u.detachEvent("onfocusout",p)),o.started=!1)}return void 0!==u&&(s=a in u?"modern":u.addEventListener?"focus-blur":"focus-blur-ie"),{emitter:n,start:y,pause:h,getError:function(){return o.error},getState:function(){return o.value}}};module.exports=te;
